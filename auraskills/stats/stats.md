---
sidebar_position: 4
description: 统计和 stats.yml 文件指南
---

# 统计

**统计** 是代表特定游戏增益（称为 **特性**）的数值。玩家可以通过使用 `/stats` 命令或在主技能菜单中点击统计物品（默认是玩家头颅）来查看他们的统计等级及其描述。

统计值随着技能升级而获得；每个技能都有一个主要统计值，每提升一级技能就会增加，而次要统计值则每隔一级技能提升一次。这些配置通过 [统计奖励](../rewards.md#stat-rewards-stat) 进行设置。统计值也可以通过使用命令或物品上的修饰符来增加。

**特性** 是统计所影响的单一游戏方面的数值。由于某些统计具有多种效果，例如智慧的经验加成和最大法力值增加，特性允许这些效果独立配置，也可以在统计之间切换。特性的数值根据统计等级的常数倍数增加，这使得统计等级以更用户友好的方式显示，而特性则是直接显示其效果的小数值。

默认有 9 个统计，它们的特性提升也显示如下：

* 力量 -> 攻击伤害
* 生命 -> 生命值
* 恢复 -> 饱食度恢复、饥饿恢复、法力恢复
* 幸运 -> 农业幸运、伐木幸运、采矿幸运、挖掘幸运、钓鱼幸运
* 智慧 -> 经验加成、铁砧折扣、最大法力值
* 坚韧 -> 伤害减免
* 暴击几率 -> 暴击几率
* 暴击伤害 -> 暴击伤害
* 速度 -> 移动速度

## 配置

统计和特性在 `stats.yml` 文件中进行配置。每个统计都有一个以其完整命名空间 ID 命名的部分（所有默认统计都以 `auraskills/` 为前缀），位于 `stats` 部分中。每个特性在 `traits` 下也有一个类似的部分。以下是恢复统计部分的示例，并附有注释解释每个选项：

```yaml
auraskills/regeneration:
  # 统计是否启用。禁用的统计将无效，并且会从菜单中隐藏。
  enabled: true
  # 此统计控制的特性映射。
  traits:
    auraskills/saturation_regen: # 在饱食度满时生命恢复的特性
      # 每级统计增加的特性值。在这种情况下，玩家每级恢复统计值增加 0.008 生命值。
      modifier: 0.008 
    auraskills/hunger_regen:
      modifier: 0.008
    auraskills/mana_regen:
      modifier: 0.01
```

### 特性选项

特性部分包含特定于每个特性的可配置选项。这些选项在 2.0 版本之前位于其统计部分中。如果 `enabled` 选项（所有特性通用）设置为 false，则该特性在游戏中将无效，并且会从菜单中隐藏。

#### 攻击伤害

* `hand_damage` - 是否影响空手攻击的伤害。
* `bow_damage` - 是否影响弓和弹射物的伤害。
* `display_damage_with_health_scaling` - 如果为 true，菜单中的伤害数字和伤害全息图将根据 `auraskills/hp` 特性部分中的 `action_bar_scaling` 选项进行缩放。
* `use_percent` - 攻击伤害加成是否应作为基础伤害的百分比增加。如果为 false，伤害将作为平坦的特性值添加。

#### 生命值

* `health_scaling` - 是否缩放玩家显示的心脏，这意味着 2 生命值 = 1 心脏在较高生命值水平下不适用。这意味着需要增加更多的生命值才能获得额外的可视心脏，从而防止在高生命值时心脏遮挡屏幕过多。此选项完全视觉化，不影响玩家的真实生命值，真实生命值显示在行动栏上。缩放量由 `hearts` 选项配置。
* `hearts` - 如果 `health_scaling` 启用，决定何时显示额外可视心脏的条目映射。键是心脏的索引，值是显示该心脏所需的真实生命值。例如，`'17': 48` 表示当玩家至少有 48 生命值（行动栏上的数字）时，第 17 个心脏（第 7 个额外心脏）将显示。
* `action_bar_scaling` - 乘以玩家 Minecraft 生命值以确定行动栏上显示的生命值数字（如果 `display_damage_with_health_scaling` 在力量中启用，则还包括伤害数字）。
* `update_delay` - 在加入或切换世界时延迟重新计算和应用玩家生命值的刻数。如果你在切换回主世界时遇到迷你游戏插件兼容性问题，导致生命值过高，请将其设置为 `1`。
* `force_base_health` - 如果为 true，玩家的基础生命属性值将在每次刷新时强制设置为 20。仅在与其他插件存在兼容性问题时启用。
* `keep_full_on_increase` - 如果为 true，当玩家已经满生命值时，增加玩家最大生命值将自动将其设置为新的最大生命值。
* `ensure_scaling_disabled` - 如果特性被禁用，禁用生命值缩放以移除过去的生命值缩放。如果你有另一个处理生命值缩放的插件，请设置为 false。

#### 饱食度恢复和饥饿恢复

* `use_custom_delay` - 如果为 true，将用自定义计时器替换原版生命恢复系统，该计时器具有可自定义的延迟和基础值。
* `delay` - 如果 `use_custom_delay` 启用，生命恢复之间的刻数。
* `base` - 如果 `use_custom_delay` 启用，基础恢复的生命值。

#### 法力恢复

* `base` - 当特性为 0 级时，每秒恢复的基础法力值。

#### 双倍掉落

* `max_percent` - 双倍掉落方块的百分比几率上限。

#### 最大法力值

* `allow_overflow` - 是否允许法力值超过最大值，例如当玩家的最大法力值减少但之前的法力值高于新的最大值时。
* `base` - 当特性为 0 级时，玩家拥有的基础最大法力值。

#### 伤害减免

* `formula` - 计算特性值伤害减免的公式。输入变量 `value` 是特性值（在统计值乘以特性修饰符之后）。表达式结果是一个 0 到 1 之间的小数，其中 0 表示没有伤害减免，1 表示所有伤害被阻挡。例如，表达式结果为 0.32 表示 32% 的伤害减免。

#### 暴击几率

* `base` - 当特性为 0 级时，玩家拥有的基础暴击几率。

#### 暴击伤害

* `base` - 当特性为 0 级时，玩家拥有的基础暴击伤害。

#### 移动速度

* `max` - 最大移动速度值。
---
sidebar_position: 2
description: 设置和配置用于存储的SQL数据库指南
---

# SQL

主`config.yml`文件中`sql`部分的选项允许将玩家数据存储在SQL数据库中，而不是默认的YAML平面文件格式。目前仅支持MySQL（和MariaDB）数据库。使用SQL进行数据存储可以在高玩家数量下提供更好的性能，允许在多个服务器之间同步数据，并使第三方应用程序更容易与数据交互。

## 基本设置

在配置AuraSkills配置之前，必须已经单独创建了一个SQL数据库（通过服务器面板或终端）。此数据库应具有主机（通常是IP地址）、数据库名称、端口、用户名和密码。

配置SQL的选项位于`config.yml`的`sql`部分。要启用SQL，请将`enabled`选项设置为true。在`host`下输入主机地址，在`database`下输入数据库名称。然后，在相应的选项下输入数据库的用户名和密码。在`port`下输入数据库的端口号。如果需要，可以在`ssl`选项下启用SSL。

服务器重启后，SQL应该可以正常工作。AuraSkills将自动在数据库中创建表。如果SQL无法工作，请检查服务器控制台以查看启动时的任何错误，并再次检查数据库凭据是否正确。

## 从YAML迁移数据

仅启用SQL不会将玩家数据从默认的YAML存储方法迁移。要迁移数据，需要执行几个额外的步骤：

1. 仍在使用YAML时，使用`/skills backup save`创建玩家数据的备份
2. 关闭服务器
3. 按照基本设置部分的说明切换到MySQL（确保在切换后重启服务器）
4. 运行`/skills backup load [fileName]`，其中fileName是之前保存的备份文件的名称（可以在备份文件夹中看到）
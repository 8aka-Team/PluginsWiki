---
sidebar_position: 3
---

# 配置

以下是 ViaVersion 的汉化配置文件

:::tip

在编辑 yaml 时，请尽量使用[文本编辑器](https://nitwikit.8aka.org/preparation/text-editor/)编辑，如 VSCode。

:::

```yaml
# config.yml
#
############################################################
#                     汉化 by yao三七                         
#       *注：以下选项中问你 是否XXX? 的，除有特殊说明外，          
#      填 true 均为是(或启用)，填 false 均为否(或关闭)。         
############################################################
#
############################################################
#                       全局主要设置                         
############################################################
#
# 
# 是否自动检测更新?
check-for-updates: true
# 是否在客户端服务器列表界面(也就是在 ping 服务器的时候)发送额外的包以显示服务器支持的版本?
# 官方建议仅在你使用第三方软件处理此请求时启用此选项，萌新放着这个不动就行了
send-supported-versions: false
# 限制允许进入服务器的游戏版本，使用 '<' 和 '>' 符号并结合版本号来圈定一个允许的版本区间
# 例子：
# 我想要让 1.16.4 的玩家，以及低于 1.16 版本和高于 1.17.1 版本的玩家禁止进入服务器，那么这里的配置应该是：
# block-versions: ["<1.16", "1.16.4", ">1.17.1"]
# 下一个 block-protocols 选项本质上和这个选项是一样的，只是这个选项更加方便简单
block-versions: []
# 通过填写 Minecraft 版本的协议版本来限制允许进入服务器的游戏版本
# Minecraft 协议版本列表：https://minecraft.wiki/w/Protocol_version
# 你也可以使用官方的工具来自动生成此配置 https://via.krusic22.com
# 在此工具中，取消勾选为禁止某个版本的玩家进入服务器，选择好后点击 Submit 即可生成配置
# 当然，你想手写也行
# 例子：
# 我想要让 1.16.4 和 1.20.1 的玩家禁止进入服务器，而通过查表，
# 1.16.4 和 1.20.1 的协议号是 754 和 763 那么这里的配置应该是：
# block-protocols: [754, 763]
block-protocols: []
# 由于使用不允许的游戏版本进入服务器时的提示语，爱写啥写啥
block-disconnect-msg: "You are using an unsupported Minecraft version!" # 大意：你正在使用一个不允许的 Minecraft 版本进入服务器
# 如果你使用 ProtocolLib ，此插件无法在不提出所有玩家的情况下重载
# (事实上我们不建议重载，或者使用插件管理插件来重载)
# 这是所有玩家在此插件重载时被服务器踢出的提示语，爱写啥写啥
reload-disconnect-msg: "Server reload, please rejoin!" # 大意：服务器正在重载，请重新进入
# 是否屏蔽此插件产生的警告? (在此插件工作的时候有可能会出现一些因转换问题而产生警告，如果警告会在后台刷屏就设置为 true)
suppress-conversion-warnings: false
#
############################################################
#                       Velocity 设置                         
#       *注：如果你使用 BungeeCord ，那么这里对应的名字就是
#             BungeeCord ，意思都大差不差，是一样的
############################################################
#
# Velocity 允许你使用不同版本的子服务器
# 由于 Velocity 是一个代理端，那么传统的工作方式会很低效，Velocity 甚至不知道它其下的
# 子服务器究竟是什么版本，这就会很复杂。本插件可以通过 ping 子服务器来获取服务器的游戏版本
# 进而进行正常的转换工作。
#
# ping 子服务器的间隔(单位：秒)
# 填写 -1 禁用
velocity-ping-interval: 60
# 如果上一项未被禁用，那么我们是否将 ping 得到的信息存储在配置文件中
velocity-ping-save: true
# 得到一个子服务器的协议版本，我们会做这些事情：
# 得到你的子服务器列表, 并且查看最新一次 ping 子服务器得到的信息
# 如果你压根不让我们 ping ，那么我们会使用配置文件中的默认配置
# 也就是 velocity-servers 这项配置
#
# 填写格式:
#   服务器名: 协议号
# 你应该知道协议号是什么吧？我上面说了
# 如果没找到对应的子服务器，那么会使用默认配置，此时协议号将会自动填写上你的代理端最低能够处理的游戏版本
# 例子：
# 我的大厅 lobby 服务器是 1.20.1 ，pvp 服务器是 1.16.4，那么这里的配置就是：
# velocity-servers: {
#     lobby : 763,
#     pvp   : 754,
velocity-servers: {}
#
############################################################
#                       全局发包限制                         
############################################################
# 这个部分在 1.17.1 以上的 paper 服务器中无效, 因为它们内置了一个更牛逼的发包管理器
#
# 这里可以限制 Packets Per Second (PPS 每秒发包量，即发包速度) (在 max-pps 和 tracking-period 选项填写 -1 就可以关闭它们)
# 是不是对发包的量没有把握？举几个例子，在船上钓鱼的动作根据我们的研究，客户端每秒会发送 90 - 100 个包
# 而从服务器获取资源比如加载资源包时会到 400 pps
#
# 客户端允许的最大 pps (使用 %pps 变量可以在游戏中显示玩家的发包速度)
# 填写 -1 禁用此功能
max-pps: 800
# 如果玩家因为发包过快被踢，服务器发送给他的提示语，爱写啥写啥
max-pps-kick-msg: "You are sending too many packets!" # 大意：你发送的包太多了！
#
# 此外，还可以设置在单位时间内跟踪玩家的发包速度，如果在单位时间内速度过快若干次，则会被踢出服务器
# 假如你设置的单位时间是 6 秒，警告阈值是 120 pps ，最多警告次数为 4 次，那么服务器
# 会以 6 秒为一个时间节点统计你超过发包阈值的次数，并计入警告次数，也就是说如果你在 6 秒
# 内发包速度超过预定阈值 5 次，这时你就会被服务器踢出。否则警告次数清零，并进行下一个时间节点的计算
#
# 跟踪时间节点长度(单位：秒)
# 填写 -1 禁用此功能
tracking-period: 6
# 警告阈值(单位：pps)
tracking-warning-pps: 120
# 最多警告次数
# 不能大于 "tracking-period"
# 不然，你是跟驿站多借了几秒钟来警告你是吧？
tracking-max-warnings: 4
# 被踢提示语，懂得都懂，爱写啥写啥
tracking-max-kick-msg: "You are sending too many packets, :(" # 大意：你发送的包太多了 :(
#
############################################################
#                       跨版本设置                         
############################################################
#
# 是否需要确保 ViaVersion 的 UserConnection 对象已存在于 PlayerJoinEvent 类中
# 如果你非常确定你装的插件里边没有要求这个的，那你可以关掉这个选项，可以加快进服速度
register-userconnections-on-join: true
# 是否修复全息字?
# 你服务器的全息字的位置可能在使用 1.9 和 1.11 进游戏的玩家眼里是错位的，
# 因此此选项可用于修复这个错位现象
hologram-patch: false
# 上一个选项的偏移值，上一项填 true 则启用此项，一般不应该改动他，根据我们的实验，
# 这个值对 1.9 以及以上版本工作的很好，但是如果要满足 1.11 的玩家的话，这里应该填0.96
hologram-y: -0.96
# 是否为 1.11/1.11.1 的玩家关闭活塞动画?
# 因为如果有太多活塞同时运动可能让这群玩家的客户端崩溃
piston-animation-patch: false
# 是否为 1.12 以及以上客户端修复位于聊天栏展示的物品 nbt (不然可能会变成莫名其妙的东西)
chat-nbt-fix: true
# 实验性功能 - 是否修复 1.12 的玩家的快速移动物品的问题 (因为有时候这些玩家使用 shift + 点击两次左键来快速移动所有同类物品的时候会不好使) 
# 此选项只在 1.8-1.11.2 的 bukkit 服务器中管用
quick-move-action-fix: false
# 是否把 1.13 及以上版本的玩家的队伍名所使用的颜色变换成队伍名前面的字符的最后一个颜色符对应的颜色?
# 不然队伍名就会直接用队伍对应的颜色显示
team-colour-fix: true
# 是否禁用 1.13 的自动补全，1.13 引入了一种全新的补全方法，这种补全方法可能会导致 1.13 的玩家在 1.13 以上版本的服务器被认定为刷屏从而被踢，填 true 禁用此补全方法
disable-1_13-auto-complete: false
# 1.13 的自动补全的另外一种补救方法，也就是延迟 tab 补全的时间(单位: tick)，如果期间有其他请求，则补全动作会被取消
1_13-tab-complete-delay: 0
# 是否修复薄雪没有碰撞箱的问题，对于 1.13 的玩家，当他们跨越只有 1 层高的雪时，会没有碰撞箱，但是其他版本有。此选项将 1 层雪渲染成 2 层雪从而避免薄雪没有碰撞箱的问题。 
fix-low-snow-collision: false
# 是否修复虫蚀方块无法被 1.13+ 的玩家破坏的问题，在 1.13+ 之后，破坏虫蚀方块的速度很快，但是 1.13 及以下不是，这就导致 1.13+ 的玩家没办法破坏这些方块。此选项会欺骗 1.13+ 的客户端把虫蚀方块看成普通方块
fix-infested-block-breaking: true
# 是否修复 1.14 书的页面太多的问题。在 1.14 ，书最多可以写 100 页，但是其他版本的只有 50 页，这可能会被某些反作弊插件误判，此选项可以把书的最大页数修改成 50 页
truncate-1_14-books: false
# 是否修正 1.9 - 1.13 版本在 1.8 服务器的碰撞箱，不修正可能会导致 1.9 - 1.13 的玩家在 1.8 的服务器潜行的时候不会被击退。
change-1_9-hitbox: false
# 类似上一项，但是这是给 1.14+ 的客户端的
# 警告: 启用此项将允许 1.14 的玩家蹲在 1.5 格高的地方，但是有可能会导致这部分玩家在这些地方蹲着的时候不会被远程武器攻击到
change-1_14-hitbox: false
# 是否修复 1.14+ 的客户端进入 1.14 以下服务器时，非完整方块的亮度为 0 的问题
fix-non-full-blocklight: true
# 是否修复玩家的血量是浮点数(也就是不是正整数)的时候，行走动画不会显示的问题
fix-1_14-health-nan: true
# 是否让 1.15+ 的玩家死后立刻重生
use-1_15-instant-respawn: false
# 是否启用服务端方块链接。在 1.13 ，Mojang 让服务器处理方块连接，这个特性有可能会在连接栅栏等方块时引起额外的运算
serverside-blockconnections: true
# 设置方块连接的方法（填 world 或 packet，其中 world 模式可能会不稳定）
blockconnection-method: packet
# 是否将最重要的方块存储在区块存储中（如围栏、玻璃等不会与固体方块连接）
reduce-blockstorage-memory: false
# 是否在上方有方块的时候阻止花茎与方块连接(对建筑服务器可能有用，充当装饰)
flowerstem-when-block-above: false
# 未连接到方块的藤蔓将被视为空气，否则 1.13+ 的玩家仍能攀爬它们
vine-climb-fix: false
# 是否忽略超过 32 个字符的插件通道消息
# CraftBukkit 直到 1.16 版本仍硬编码了此限制，因此我们假设任何服务器/代理端仍然存在此限制
ignore-long-1_16-channel-names: true
# 强制 1.17+ 客户端接受服务器资源包；如果玩家拒绝，会被踢出服务器
forced-use-1_17-resource-pack: false
# 当 1.17+ 客户端收到服务器资源包时显示的消息提示
resource-pack-1_17-prompt: ''
# 缓存光线直到区块卸载，以允许后续区块更新包（而不是在第一个区块数据发送时立即取消缓存）
# 只有在你知道自己在做什么时才禁用此功能
cache-1_17-light: true
# 强制更新 1.19.4+ 玩家的背包，当他们尝试在已占用的槽位中交换护甲时
armor-toggle-fix: true
# 获取每个维度的原版(Vanilla)名称
map-1_16-world-names:
  overworld: "minecraft:overworld"
  nether: "minecraft:the_nether"
  end: "minecraft:the_end"
# 如果关闭此选项，1.14+ 客户端在 1.13 服务器上驯养的猫将显示为野猫。否则，驯养的和野生的猫都会显示为猫
translate-ocelot-to-cat: false
# 确定 1.19+ 客户端在加入时发送到服务器的值（如果当前无法通过 ViaVersion 访问）
# 如果你的服务器运行的是 1.19 或更高版本，不建议伪造此值，否则 1.20.5 客户端可能会因聊天处理更严格而被踢出
enforce-secure-chat: false
# 处理 1.20.3 服务器上无效的物品计数（超过最大堆叠大小）
handle-invalid-item-count: false
# 隐藏 1.20.3+ 客户端在旧版服务器上的计分板数字
hide-scoreboard-numbers: false
# 修复 1.21+ 客户端在 1.20.5 服务器上快速移动时放置水和岩浆位置错误的问题（可能会与反作弊插件冲突）
fix-1_21-placement-rotation: true
#
############################################################
#             1.9+ 版本在 1.8 服务器的一些选项          
############################################################

# 是否阻止 1.9+ 客户端与 1.8 服务器之间的碰撞?
prevent-collision: true
# 如果上一项设置为 true，是否自动将玩家分到同一队伍以减少碰撞?
auto-team: true
# 如果启用了上两项，是否抑制因实体数据无法读取而产生的错误提示?
suppress-metadata-errors: false
# 是否允许 1.9+ 客户端使用盾牌进行格挡?
shield-blocking: true
# 如果启用了 "shield-blocking"，是否使用主手（主要武器）来触发格挡（更快生效）?
no-delay-shield-blocking: false
# 如果启用了 "shield-blocking" 和 "no-delay-shield-blocking"，是否在玩家主手持有武器时立即显示盾牌（切换武器时消失）?
show-shield-when-sword-in-hand: false
# 是否模拟玩家的 ticks（心跳）以修复吃喝、传送门等行为?
simulate-pt: true
# 是否使用 NMS（Non-Minecraft Stuff）玩家来模拟 packets，以修复反作弊问题?
nms-player-ticking: true
# 是否修复 boss bar 的显示问题（默认开启，除非遇到问题才关闭）?
bossbar-patch: true
# 如果 boss bar 在 1.9+ 客户端上出现闪烁，设置为 true 可以让 boss bar 保持在 100%（不推荐）?
bossbar-anti-flicker: false
# 是否显示 1.9+ 客户端顶部的新效果提示（如中毒、燃烧等）?
use-new-effect-indicator: true
# 是否在死亡屏幕显示 1.9+ 客户端的新死亡信息?
use-new-deathmessages: true
# 是否缓存物品以避免服务器卡顿（可能会占用额外资源）?
item-cache: true
# 是否在加载区块时修复 1.10.1 及以上版本的长伸缩方块问题?
replace-pistons: false
# 是否将无法正常显示的伸缩方块替换为其他方块（默认替换为空气，小心玩家卡住）?
replacement-piston-id: 0
# 是否修复 1.9+ 客户端在快速移动时远距离区块不显示的问题（会增加网络使用和略微降低客户端帧率）?
chunk-border-fix: false
# 是否允许 1.9+ 客户端在 1.8 服务器上使用左手模式（将主手设为左手）?
left-handed-handling: true
# 是否尝试取消 1.8 服务器发送给 1.9+ 客户端的方块破坏/放置声音以避免重复播放?
cancel-block-sounds: true

```